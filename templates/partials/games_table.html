<div class="col-md-7">
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0"><i class="fas fa-chess"></i> Historial de Partidas</h5>
        </div>
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead>
                    <tr>
                        <th><i class="fas fa-chess-pawn text-white-piece me-2"></i>Blancas</th>
                        <th><i class="fas fa-star rating-star me-2"></i>ELO</th>
                        <th class="text-center"><i class="fas fa-trophy"></i></th>
                        <th><i class="fas fa-star rating-star me-2"></i>ELO</th>
                        <th><i class="fas fa-chess-pawn text-black-piece me-2"></i>Negras</th>
                        <th><i class="far fa-calendar-alt me-2"></i>Fecha</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for game in games %}
                    <tr>
                        <td>{{ game.white_display }}</td>
                        <td>
                            {{ game.white_rating }}
                            {% if game.white_change > 0 %}
                                <span class="elo-change elo-up">+{{ game.white_change }}</span>
                            {% elif game.white_change < 0 %}
                                <span class="elo-change elo-down">{{ game.white_change }}</span>
                            {% endif %}
                        </td>
                        <td class="text-center">
                            {% if game.result == 1.0 %}
                                <div class="d-flex justify-content-center align-items-center" style="width: 80px; margin: 0 auto;">
                                    <i class="fas fa-crown text-warning"></i>
                                    <i class="fas fa-chess-pawn text-white-piece mx-2"></i>
                                    <i class="fas fa-fw invisible"></i>
                                </div>
                            {% elif game.result == 0.0 %}
                                <div class="d-flex justify-content-center align-items-center" style="width: 80px; margin: 0 auto;">
                                    <i class="fas fa-fw invisible"></i>
                                    <i class="fas fa-chess-pawn text-black-piece mx-2"></i>
                                    <i class="fas fa-crown text-warning"></i>
                                </div>
                            {% else %}
                                Â½
                            {% endif %}
                        </td>
                        <td>
                            {{ game.black_rating }}
                            {% if game.black_change > 0 %}
                                <span class="elo-change elo-up">+{{ game.black_change }}</span>
                            {% elif game.black_change < 0 %}
                                <span class="elo-change elo-down">{{ game.black_change }}</span>
                            {% endif %}
                        </td>
                        <td>{{ game.black_display }}</td>
                        <td>{{ game.date }}</td>
                        <td>
                            {% if game.has_lettuce_factor %}
                            <span title="El Lechuga era espectador" style="cursor: help;">ðŸ¥¬</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div> 